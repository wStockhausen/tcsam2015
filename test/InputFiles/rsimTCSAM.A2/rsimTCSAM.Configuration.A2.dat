#====================
# rsimTCSAM configuration file
#
# This file runs the model from 1950 to 2014 to test generate
# test files for TCSAM2015. Basic configuration is:
#	1 time period for all biological processes
#	4 fishery, 3 time period for parameters, same F for M/F
#	1 survey,  1 time period for parameters, same Q for M/F
#====================
#-----------------------------------------------------------------------------------
ModelConfiguration #keyword
TC     #model type (KC or TC for king crab or Tanner crab)
#---------------------------------------------------------------
#-----dimensions
DIMENSIONS  #keyword
1950   #start year
2014   #assessment year (=mxy+1)
25     #min size cutpoint (mm)
185    #max size cutpoint (mm)
5      #size bin size (mm)
2      #number of sexes
'male' 'female'  #labels for sexes
2      #number of maturity states
'immature' 'mature'     #labels for maturity states
2      #number of shell conditions
'new shell' 'old shell' #labels for shell conditions
4      #number of fisheries
'TCF' 'SCF' 'RKF' 'GTF'  #labels for fisheries
1      #number of surveys
'NMFS trawl survey' #names for surveys
#---------------------------------------------------------------
#-----parameters
PARAMETERS  #keyword
0.625  #mate time
0.625  #fish time
#--Weight-at-size
WatZ  #required keyword
1       #number of time blocks
mny:asy #time block 1 (asy=assessment year)
#sex       maturity      a         b
'female' 'immature'  0.000637   2.794
'female'   'mature'  0.000344   2.956
  'male' 'immature'  0.000163   3.136
  'male'   'mature'  0.000163   3.136
#The following 'Probability of fouling' section is not yet implemented
#--Probability of fouling
#prFouling  #required keyword
#1       #number of time blocks
#mny:asy #time block 1 (asy=assessment year)
##sex       prFouling
#  'male'      1.0
#'female'      1.0
#--Natural mortality
NaturalMortality  #required keyword
2      #number of time blocks
c(mny:1979,1985:mxy)  #time block 1
#sex      maturity  shell condition      M   cv   
  'male'    'immature'    'new shell'  0.25  0.0
  'male'    'immature'    'old shell'  0.25  0.0
'female'    'immature'    'new shell'  0.25  0.0
'female'    'immature'    'old shell'  0.25  0.0
  'male'      'mature'    'new shell'  0.26  0.0
  'male'      'mature'    'old shell'  0.26  0.0
'female'      'mature'    'new shell'  0.33  0.0
'female'      'mature'    'old shell'  0.33  0.0
1980:1984  #time block 2
#sex      maturity  shell condition      M   cv   
  'male'    'immature'    'new shell'  0.25  0.0
  'male'    'immature'    'old shell'  0.25  0.0
'female'    'immature'    'new shell'  0.25  0.0
'female'    'immature'    'old shell'  0.25  0.0
  'male'      'mature'    'new shell'  0.66  0.0
  'male'      'mature'    'old shell'  0.66  0.0
'female'      'mature'    'new shell'  0.37  0.0
'female'      'mature'    'old shell'  0.37  0.0
#--Molting
Molting  #required keyword
1   #number of time blocks
mny:mxy  #time block 1
#sex       shell condition   z50    sdv
  'male'  'new shell'       1000    10
  'male'  'old shell'       1000    10
'female'  'new shell'       1000    10
'female'  'old shell'       1000    10
#--Molt to maturity
MoltToMaturity  #required keyword
1        #number of time blocks
mny:mxy  #time block 1
#sex       shell condition   z50    sdv
  'male'  'new shell'       100    10
  'male'  'old shell'       100    10
'female'  'new shell'        80    10
'female'  'old shell'        80    10
#--Growth
Growth  #required keyword
1         #number of time blocks
mny:mxy   #time block 1
#sex          ln(a)           ln(b)            ln(scale)
  'male'     log(0.43)      log(0.97)          log(0.75)
'female'     log(0.70)      log(0.88)          log(0.75)
#--Recruitment
Recruitment  #required keyword (millions)
#initialization
#lnR       cvR    lnXR   sdXR   lnAlphaZ      lnBetaZ
log(71)    0.5     0.0    0.0   log(11.5)     log(4.0)
1  #number of time blocks
#years        lnR     cvR    lnXR   sdXR   lnAlphaZ      lnBetaZ
mny:mxy    log(71)    0.5     0.0    0.0   log(11.5)     log(4.0)
#--Selectivity/Retention functions
Selectivity  #required keyword
26  #number of curves
#index       function      np   params
   1   'asclogistic5095'   3     47    70   -1  'survey selectivity male, -1981'    #params: z50    z95  fsz
   2   'asclogistic5095'   3     60   110  -1  'survey selectivity female, -1981'  #z50    z95  fsz
   3   'asclogistic5095'   3     30    87  -1  'survey selectivity, male, 1982+'   #z50    z95  fsz 
   4   'asclogistic5095'   3     -4    96  -1  'survey selectivity, female, 1982+' #z50    z95  fsz  #
   5   'asclogistic'       3    138   0.75 -1  'TCF retention' #z50    slope  fsz
   6   'asclogistic'       3    110   0.73 -1  'TCF selectivity, male, period 1' #z50    slope  fsz  # 
   7   'asclogistic'       3    125   0.84 -1  'TCF selectivity, male, period 2' #z50    slope  fsz  #
   8   'asclogistic'       3    120   0.14 -1  'TCF selectivity, female '#z50    slope  fsz  # 
   9   'dbllogisticLnD50'  5     87   0.36  4 0.37 -1  'SCF selectivity, male, period 1' #z50 slope lnD50 slope fsz  #
  10   'dbllogisticLnD50'  5     94   0.23  4 0.18 -1  'SCF selectivity, male, period 2' #z50 slope lnD50 slope fsz  #
  11   'dbllogisticLnD50'  5    105   0.17  4 0.17 -1  'SCF selectivity, male, period 3' #z50 slope lnD50 slope fsz  #
  12   'asclogistic'       3    111   0.05 -1  'SCF selectivity, female, period 1' #z50    slope  fsz  #
  13   'asclogistic'       3     76   0.25 -1  'SCF selectivity, female, period 2' #z50    slope  fsz  #
  14   'asclogistic'       3     85   0.16 -1  'SCF selectivity, female, period 3' #z50    slope  fsz  #
  15   'asclogistic'       3    150   0.10 -1  'RKF selectivity, male, period 1'   #z50    slope  fsz  #
  16   'asclogistic'       3    132   0.10 -1  'RKF selectivity, male, period 2'   #z50    slope  fsz  #
  17   'asclogistic'       3    150   0.10 -1  'RKF selectivity, male, period 3'   #z50    slope  fsz  #
  18   'asclogistic'       3    150   0.20 -1  'RKF selectivity, female, period 1' #z50    slope  fsz  #
  19   'asclogistic'       3    103   0.20 -1  'RKF selectivity, female, period 2' #z50    slope  fsz  #
  20   'asclogistic'       3    157   0.20 -1  'RKF selectivity, female, period 3' #z50    slope  fsz  # 
  21   'asclogistic'       3     54   0.10 -1  'GTF selectivity, male, period 1'   #z50    slope  fsz  #
  22   'asclogistic'       3     65   0.05 -1  'GTF selectivity, male, period 2'   #z50    slope  fsz  #
  23   'asclogistic'       3     94   0.07 -1  'GTF selectivity, male, period 3'   #z50    slope  fsz  #
  24   'asclogistic'       3    125   0.03 -1  'GTF selectivity, female, period 1' #z50    slope  fsz  #
  25   'asclogistic'       3    175   0.01 -1  'GTF selectivity, female, period 2' #z50    slope  fsz  #
  26   'asclogistic'       3    148   0.05 -1  'GTF selectivity, female, period 3' #z50    slope  fsz  #
#--Fisheries
Fisheries  #required keyword
#-fishery 1
'TCF'  #Tanner crab directed fishery
#output info: retained catch
#include   aggregate type   pdf type    cv/ss      weighting
   TRUE      BY_TOTAL      LOGNORMAL     0.05        1.0     #abundance
   TRUE      BY_TOTAL      LOGNORMAL     0.10        1.0     #biomass
   TRUE      BY_TOTAL      MULTINOMIAL    50         1.0     #size comps
#output info: discard catch
#include   aggregate type   pdf type    cv/ss      weighting
  TRUE      BY_SEX      LOGNORMAL       0.05        1.0     #abundance
  TRUE      BY_SEX      LOGNORMAL       0.10        1.0     #biomass
  TRUE      BY_SEX      MULTINOMIAL      50         1.0     #size comps
#output info: total catch
#include   aggregate type   pdf type    cv/ss      weighting
 TRUE      BY_SEX      LOGNORMAL        0.05        1.0     #abundance
 TRUE      BY_SEX      LOGNORMAL        0.10        1.0     #biomass
 TRUE      BY_SEX      MULTINOMIAL       50         1.0     #size comps
2   #number of time blocks
#-----time block 1
1965:1984   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.3)      0.4         6              5
'female'       0.321          log(0.3)      0.4         8              0
#-----time block 2
c(1987:1996,2005:2009,2013)   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.3)      0.4         7              5
'female'       0.321          log(0.3)      0.4         8              0
#-fishery 2
'SCF'  #snow crab discard fishery
#output info: retained catch
#include   aggregate type   pdf type    cv/ss      weighting
   FALSE      BY_TOTAL      LOGNORMAL     0.05        1.0     #abundance
   FALSE      BY_TOTAL      LOGNORMAL     0.10        1.0     #biomass
   FALSE     BY_TOTAL      MULTINOMIAL    50         1.0     #size comps
#output info: discard catch
#include   aggregate type   pdf type    cv/ss      weighting
  FALSE     BY_SEX      LOGNORMAL       0.05        1.0     #abundance
  FALSE     BY_SEX      LOGNORMAL       0.10        1.0     #biomass
  FALSE     BY_SEX      MULTINOMIAL      50         1.0     #size comps
#output info: total catch
#include   aggregate type   pdf type    cv/ss      weighting
 TRUE      BY_SEX      LOGNORMAL        0.05        1.0     #abundance
 TRUE      BY_SEX      LOGNORMAL        0.10        1.0     #biomass
 TRUE      BY_SEX      MULTINOMIAL       50         1.0     #size comps
3   #number of time blocks
#-----time block 1
1978:1996   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.15)      0.4         9              0
'female'       0.321          log(0.15)      0.4        12              0
#-----time block 2
1997:2004   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.1)      0.4        10              0
'female'       0.321          log(0.1)      0.4        13              0
#-----time block 3
2005:mxy   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.1)      0.4        11              0
'female'       0.321          log(0.1)      0.4        14              0
#-fishery 3
'RKF'  #BBRKC discard fishery
#output info: retained catch
#include   aggregate type   pdf type    cv/ss      weighting
   FALSE      BY_TOTAL      LOGNORMAL     0.05        1.0     #abundance
   FALSE      BY_TOTAL      LOGNORMAL     0.10        1.0     #biomass
   FALSE     BY_TOTAL      MULTINOMIAL    50         1.0     #size comps
#output info: discard catch
#include   aggregate type   pdf type    cv/ss      weighting
  FALSE     BY_SEX      LOGNORMAL       0.05        1.0     #abundance
  FALSE     BY_SEX      LOGNORMAL       0.10        1.0     #biomass
  FALSE     BY_SEX      MULTINOMIAL      50         1.0     #size comps
#output info: total catch
#include   aggregate type   pdf type    cv/ss      weighting
 TRUE      BY_SEX      LOGNORMAL        0.05        1.0     #abundance
 TRUE      BY_SEX      LOGNORMAL        0.10        1.0     #biomass
 TRUE      BY_SEX      MULTINOMIAL       50         1.0     #size comps
3   #number of time blocks
#-----time block 1
c(1978:1983,1986:1993,1996)   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.1)      0.4        15              0
'female'       0.321          log(0.1)      0.4        18              0
#-----time block 2
1997:2004   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.05)      0.4        16              0
'female'       0.321          log(0.05)      0.4        19              0
#-----time block 3
2005:mxy   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.321          log(0.01)      0.4        17              0
'female'       0.321          log(0.01)      0.4        20              0
#-fishery 4
'GTF'  #groundfish trawl discard fishery
#output info: retained catch
#include   aggregate type   pdf type    cv/ss      weighting
   FALSE      BY_TOTAL      LOGNORMAL     0.05        1.0     #abundance
   FALSE      BY_TOTAL      LOGNORMAL     0.10        1.0     #biomass
   FALSE     BY_TOTAL      MULTINOMIAL    50         1.0     #size comps
#output info: discard catch
#include   aggregate type   pdf type    cv/ss      weighting
  FALSE     BY_SEX      LOGNORMAL       0.05        1.0     #abundance
  FALSE     BY_SEX      LOGNORMAL       0.10        1.0     #biomass
  FALSE     BY_SEX      MULTINOMIAL      50         1.0     #size comps
#output info: total catch
#include   aggregate type   pdf type    cv/ss      weighting
 TRUE      BY_SEX      LOGNORMAL        0.05        1.0     #abundance
 TRUE      BY_SEX      LOGNORMAL        0.10        1.0     #biomass
 TRUE      BY_SEX      MULTINOMIAL       50         1.0     #size comps
3   #number of time blocks
#-----time block 1
1973:1986   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.8          log(0.15)      0.4        21              0
'female'       0.8          log(0.15)      0.4        24              0
#-----time block 2
1987:1996   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.8          log(0.1)      0.4        22              0
'female'       0.8          log(0.1)      0.4        25              0
#-----time block 3
1997:mxy   #years
#sex      discard mortality   lnF         sd F   SelFcnIndex    RetFcnIndex
  'male'       0.8          log(0.05)      0.4        23              0
'female'       0.8          log(0.05)      0.4        26              0
#--Surveys
Surveys  #required keyword
#-survey 1
'NMFS trawl survey'
#output info
#include   aggregate type   pdf type    cv/ss      weighting
   TRUE      BY_SEX       LOGNORMAL      0.15        1.0     #abundance
   TRUE      BY_SEX       LOGNORMAL      0.20        1.0     #biomass
   TRUE      BY_SEX       MULTINOMIAL     25         1.0     #size comps
2   #number of time blocks
#-----time block 1
1975:1981   #years
#  sex      lnQ        sd Q    selFcnIndex
   'male' log(1.0)     0.0          1
 'female' log(1.0)     0.0          2
 #-----time block 2
 1982:asy   #years
 #  sex      lnQ        sd Q    selFcnIndex
    'male' log(1.0)     0.0          3
  'female' log(1.0)     0.0          4
DONE #keyword
